"use strict";(self.webpackChunkdm_trade=self.webpackChunkdm_trade||[]).push([[246,362],{371:(e,r,t)=>{t.d(r,{h:()=>s});var n,o,a=t(540);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},l.apply(null,arguments)}var s=function(e){return a.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"done-icon_svg__bi done-icon_svg__bi-check-circle",viewBox:"0 0 16 16"},e),n||(n=a.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"})),o||(o=a.createElement("path",{d:"m10.97 4.97-.02.022-3.473 4.425-2.093-2.094a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05"})))}},835:(e,r,t)=>{t.d(r,{A:()=>n});const n={overlay:"modal-module__overlay__AOHEj",overlay__active:"modal-module__overlay__active__sHMpX",modal:"modal-module__modal__u3A6Y",modal__product:"modal-module__modal__product__Ud5Eq",modal__register:"modal-module__modal__register__h_IsF","modal__register-icon":"modal-module__modal__register-icon__c1s5L",modal__icon:"modal-module__modal__icon__SiNJB",image:"modal-module__image__IqwlC",info:"modal-module__info__a920H"}},443:(e,r,t)=>{t.d(r,{A:()=>n});const n={section:"auth-module__section__xAy95",section__title:"auth-module__section__title__Cew8G",section__link:"auth-module__section__link___7crY","section__login-container":"auth-module__section__login-container__BBpzb",form:"auth-module__form__CpE0w",form__fieldset:"auth-module__form__fieldset__xxxtW",form__error:"auth-module__form__error__gIzF5",form__input:"auth-module__form__input__ypyuB","form__input-error":"auth-module__form__input-error__Ka9Tv","form__auth-error":"auth-module__form__auth-error__EQSBF","form__auth-warning":"auth-module__form__auth-warning__xZ75f",form__button:"auth-module__form__button__NWlI_","form__button-container":"auth-module__form__button-container__khesB"}},362:(e,r,t)=>{t.r(r),t.d(r,{default:()=>i});var n,o=t(848),a=t(835),l=t(961),s=t(540);function _(){return _=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},_.apply(null,arguments)}var c=function(e){return s.createElement("svg",_({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"close_svg__bi close_svg__bi-x-lg",viewBox:"0 0 16 16"},e),n||(n=s.createElement("path",{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"})))};function i(e){var r=e.handleClose,t=e.children,n=document.querySelector("body");return(0,s.useEffect)((function(){return document.body.style.overflow="hidden",function(){document.body.style.overflow=""}}),[]),(0,o.jsx)(o.Fragment,{children:n&&(0,l.createPortal)((0,o.jsx)("div",{className:"".concat(a.A.overlay),children:(0,o.jsxs)("article",{className:a.A.modal,children:[(0,o.jsx)(c,{className:a.A.modal__icon,onClick:r}),t]})}),n)})}},246:(e,r,t)=>{t.r(r),t.d(r,{default:()=>v});var n=t(848),o=t(443),a=t(540),l=t(767),s=t(976),_=t(364),c=t(919),i=t(255),u=t(362),m=t(835),d=t(371);function f(e){var r=e.navigate;return(0,n.jsxs)("div",{className:m.A.modal__register,children:[(0,n.jsx)(d.h,{className:m.A["modal__register-icon"]}),(0,n.jsx)("h2",{className:m.A["modal__register-title"],children:"Вы успешно зарегистрированы!"}),(0,n.jsx)("button",{className:"".concat(m.A["modal__register-button"]," button"),onClick:r,children:"Войти в личный кабинет"})]})}var h=function(){return h=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},h.apply(this,arguments)},p=function(e,r,t,n){return new(t||(t=Promise))((function(o,a){function l(e){try{_(n.next(e))}catch(e){a(e)}}function s(e){try{_(n.throw(e))}catch(e){a(e)}}function _(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(l,s)}_((n=n.apply(e,r||[])).next())}))},b=function(e,r){var t,n,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(_){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(l=0)),l;)try{if(t=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return l.label++,{value:s[1],done:!1};case 5:l.label++,n=s[1],s=[0];continue;case 7:s=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){l=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){l.label=s[1];break}if(6===s[0]&&l.label<o[1]){l.label=o[1],o=s;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(s);break}o[2]&&l.ops.pop(),l.trys.pop();continue}s=r.call(e,l)}catch(e){s=[6,e],n=0}finally{t=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,_])}}};function v(){var e=this,r=(0,a.useState)(""),t=r[0],m=r[1],d=(0,a.useState)(""),v=d[0],g=d[1],x=(0,a.useState)(""),A=x[0],j=x[1],w=(0,a.useState)(""),y=w[0],N=w[1],E=(0,a.useState)(!1),k=E[0],C=E[1],S=(0,a.useState)(!1),O=S[0],B=S[1],F=(0,a.useState)({}),L=F[0],P=F[1],$={},z=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,I=/^(\+7|8)\d{10}$/,Z=/^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/,q=(0,l.Zp)(),H=(0,_.wA)();return(0,n.jsxs)("section",{className:o.A.section,children:[(0,n.jsx)("h1",{className:o.A.section__title,children:"Регистрация"}),(0,n.jsxs)("form",{onSubmit:function(r){return p(e,void 0,void 0,(function(){return b(this,(function(e){switch(e.label){case 0:if(r.preventDefault(),t?1===t.length&&($.nameError="Введите корректное ФИО"):$.nameError="Введите ФИО",v?z.test(v)||($.emailError="Неверный формат email"):$.emailError="Введите email",A?I.test(A)||($.phoneError="Неверный формат номера телефона"):$.passwordError="Введите номер телефона",y?Z.test(y)&&($.nameError="Пароль должен быть минимум 8 символов, содержать хотя бы одну заглавную букву, одну цифру и один специальный символ"):$.passwordError="Придумайте пароль",P($),0!==Object.keys($).length)return[2];C(!0),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,H((0,c.TL)({name:t,email:v,phone:A,password:y})).unwrap()];case 2:return e.sent(),B(!0),[3,5];case 3:return e.sent(),P((function(e){return h(h({},e),{checkRegisterError:"Пользователь с данной почтой уже существует"})})),[3,5];case 4:return C(!1),[7];case 5:return[2]}}))}))},className:o.A.form,children:[(0,n.jsxs)("fieldset",{className:o.A.form__fieldset,children:[(0,n.jsx)("label",{htmlFor:"name",className:o.A.form__label,children:"ФИО *"}),(0,n.jsx)("input",{name:"name",type:"text",placeholder:"Введите ФИО",value:t,onChange:function(e){return m(e.target.value)},className:o.A.form__input}),L.nameError&&(0,n.jsx)("p",{className:"".concat(o.A["form__input-error"]," ").concat(o.A.form__error),children:L.nameError})]}),(0,n.jsxs)("fieldset",{className:o.A.form__fieldset,children:[(0,n.jsx)("label",{htmlFor:"email",className:o.A.form__label,children:"E-mail *"}),(0,n.jsx)("input",{name:"email",type:"email",placeholder:"Введите Е-mail",value:v,onChange:function(e){return g(e.target.value)},className:o.A.form__input}),L.emailError&&(0,n.jsx)("p",{className:"".concat(o.A["form__input-error"]," ").concat(o.A.form__error),children:L.emailError})]}),(0,n.jsxs)("fieldset",{className:o.A.form__fieldset,children:[(0,n.jsx)("label",{htmlFor:"phone",className:o.A.form__label,children:"Номер телефона *"}),(0,n.jsx)("input",{name:"phone",type:"tel",placeholder:"Введите номер телефона (+7 / 8)",value:A,onChange:function(e){return j(e.target.value)},className:o.A.form__input}),L.phoneError&&(0,n.jsx)("p",{className:"".concat(o.A["form__input-error"]," ").concat(o.A.form__error),children:L.phoneError})]}),(0,n.jsxs)("fieldset",{className:o.A.form__fieldset,children:[(0,n.jsx)("label",{htmlFor:"password",className:o.A.form__label,children:"Пароль (от 8 символов, хотя бы 1 заглавная буква и спец. символ) *"}),(0,n.jsx)("input",{name:"password",type:"password",placeholder:"Придумайте пароль",value:y,onChange:function(e){return N(e.target.value)},className:o.A.form__input}),L.passwordError&&(0,n.jsx)("p",{className:"".concat(o.A["form__input-error"]," ").concat(o.A.form__error),children:L.passwordError})]}),(0,n.jsx)("p",{className:o.A["form__auth-warning"],children:"* — обязательные к заполнению поля"}),L.checkRegisterError&&(0,n.jsx)("p",{className:"".concat(o.A["form__auth-error"]," ").concat(o.A.form__error),children:L.checkRegisterError}),k?(0,n.jsxs)("div",{className:o.A["form__button-container"],children:[(0,n.jsx)("button",{type:"submit",disabled:k,className:"".concat(o.A.form__button," button"),children:"Зарегистрироваться"}),(0,n.jsx)(i.A,{})]}):(0,n.jsxs)("div",{className:o.A["form__button-container"],children:[(0,n.jsx)(s.N_,{to:"/login",className:"link",children:"Вернуться назад"}),(0,n.jsx)("button",{type:"submit",disabled:k,className:"".concat(o.A.form__button," button"),children:"Зарегистрироваться"})]})]}),O&&(0,n.jsx)(u.default,{handleClose:function(){return q("/login")},children:(0,n.jsx)(f,{navigate:function(){return q("/login")}})})]})}}}]);